<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Just MessageMe Homepage</title>

    <link rel="manifest" href="manifest.json">

    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="application-name" content="Just MessageMe">
    <meta name="apple-mobile-web-app-title" content="Just MessageMe">
    <meta name="theme-color" content="#7ed321">
    <meta name="msapplication-navbutton-color" content="#7ed321">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="msapplication-starturl" content="/index.html">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="icon" sizes="192x192" href="images/icon-192x192.png">
    <link rel="apple-touch-icon" sizes="192x192" href="images/icon-192x192.png">
    <link rel="icon" sizes="256x256" href="images/icon-256x256.png">
    <link rel="apple-touch-icon" sizes="256x256" href="images/icon-256x256.png">
    <link rel="icon" sizes="384x384" href="images/icon-384x384.png">
    <link rel="apple-touch-icon" sizes="384x384" href="images/icon-384x384.png">
    <link rel="icon" sizes="512x512" href="images/icon-512x512.png">
    <link rel="apple-touch-icon" sizes="512x512" href="images/icon-512x512.png">

    <link rel="stylesheet" type="text/css" href="css/bootstrap.css" />
    <script src="js/jquery-3.5.1.min.js"></script>
    <script src="js/bootstrap.bundle.js"></script>
    <script src="https://cdn.socket.io/3.1.3/socket.io.min.js" integrity="sha384-cPwlPLvBTa3sKAgddT6krw0cJat7egBga3DJepJyrLl4Q9/5WLra3rrnMcyTyOnh" crossorigin="anonymous"></script>
    <script>
        if ('serviceWorker' in navigator) {
            addEventListener('load', async() => {
                await navigator.serviceWorker.register('sw.js')
                    .then(reg => {
                        console.log("Service Worker was successfully registered.");
                    })
                    .catch(err => {
                        console.log("Service worker was unsuccessfully registered. Error: ", err);
                    });
            });
        }
        $(function() {

            $("a").on("click", _ => {
                var username = $("#username").val() || "Anonymous";;
                if (typeof(Storage) != "undefined") {
                    sessionStorage.setItem("name", username);
                }
            });

            $("#username").on("keyup", e => {
                if (e.which == 13) {
                    var username = $("#username").val() || "Anonymous";;
                    if (typeof(Storage) != "undefined") {
                        sessionStorage.setItem("name", username);
                        location.href = "message.html";
                    }
                }
            });
        });
    </script>
</head>

<body>
    <div class="h1 text-center py-3">Welcome</div>

    <div class="d-flex align-items-center justify-content-center">
        <div class="border border-dark" style="width: 400px; border-radius: 50px;">
            <table class="table text-center">
                <thead class="thead-dark">
                    <tr>
                        <th>Just MessageMe</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <div class="row">
                                <div class="col">
                                    Name:
                                </div>
                            </div>

                            <div class="row py-2">
                                <div class="col">
                                    <input type="text" autocomplete="off" id="username">
                                </div>
                            </div>

                            <div class="row py-2">
                                <div class="col">
                                    <a href="message.html" class="btn btn-success" id="hi">Submit</a>
                                </div>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</body>

</html>